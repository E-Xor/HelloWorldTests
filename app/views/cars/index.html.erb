<%= stylesheet_link_tag "car" %>
<%= javascript_include_tag :defaults, "car" %>

<h1>Listing cars</h1>

<table>
  <tr>
    <th>Name</th>
    <th>Options</th>
    <th>State</th>
    <th>Change state</th>
    <th></th>
  </tr>

<% @cars.each do |car| %>
  <tr>
    <td><%= car.name %></td>
    <td><%= car.options %></td>
    <td id="state_<%= car.id %>"><%= car.state %></td>
    <td>
      <%= link_to "start", "#", :onclick => "update('state_" + car.id.to_s + "','" + car_path(car) + "', 'start')", :class =>'nice_button' %>
      <%= link_to "stop", "#", :onclick => "update('state_" + car.id.to_s + "','" + car_path(car) + "', 'stop')", :class =>'nice_button' %>
    </td>
    <td class="default_links">
      <%= link_to 'Show', car %><br/>
      <%= link_to 'Edit', edit_car_path(car) %><br/>
      <%= link_to 'Destroy', car, confirm: 'Are you sure?', method: :delete %><br/>
    </td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Car', new_car_path %><br/>
<%= link_to "Back to Home", "/" %>